{
  "$schema": "https://raw.githubusercontent.com/mspnp/template-building-blocks/master/schemas/buildingBlocks.json",
  "contentVersion": "1.0.0.0",
  "parameters" : {
    "buildingBlocks": {
      "value": [
      #####Vnet -1 
        {
          "type": "VirtualNetwork",
           "settings": [
            {
            "name": "msft-hub-vnet",
                "addressPrefixes": [
                  "10.0.0.0/16"
                ],
                "subnets": [
                {
                  "name": "firewall",
                  "addressPrefix": "10.0.1.0/24"
                },
                {
                  "name": "mgmt",
                  "addressPrefix": "10.0.2.0/24"
                },
                {
                  "name": "ad",
                  "addressPrefix": "10.0.3.0/24"
                },
              ],
              "virtualNetworkPeerings": [
                {
                  "remoteVirtualNetwork": {
                  "name": "msft-spoke1-vnet"
                  },
                  "allowForwardedTraffic": true,
                  "allowGatewayTransit": true,
                  "useRemoteGateways": false
                  }
                ]
            },
    #####Vnet -2
            {
                "name": "msft-spoke1-vnet",
                "addressPrefixes": ["10.1.0.0/16"],
                "subnets": [
                  {
                     "name": "web",
                     "addressPrefix": "10.1.1.0/24"
                  }                                
                ],
                "virtualNetworkPeerings": [
                  {
                  "remoteVirtualNetwork": {
                  "name": "msft-hub-vnet"
                    },
                    "allowForwardedTraffic": true,
                    "allowGatewayTransit": false,
                    "useRemoteGateways": false
                  }
                ],
                "tags": {
                "department": "HR",
                "managedBy": "DevOps"
               }
              },
         ####VM-Jump Box
              {
                "type": "VirtualMachine",
                "settings": {
                    "vmCount": 1,
                    "osType": "windows",
                    "namePrefix": "jb",
                    "adminUserName": "Admin1234",
                    "adminPassword": "Admin@123456",
                    "nics": [
                    {
                        "subnetName": "mgmt",
                        "isPublic": true
                    }
                  ],
                  "virtualNetwork": {
                  "name": "msft-hub-vnet"
                  }
                }
              },
      ####VM - No of Vm 2

              {
                "type": "VirtualMachine",
                "settings": {
                "vmCount": 2,
                "osType": "windows",
                "namePrefix": "ad",
                "adminUserName": "Admin1234",
                "adminPassword": "Admin@123456",
                "nics": [
                {
                    "subnetName": "ad",
                    "isPublic": false
                }
              ],
              "virtualNetwork": {
              "name": "msft-hub-vnet"
             }
            }
###
#           }
#         ]
#        }
####
      ]
    }
  }
}
